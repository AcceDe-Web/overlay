<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="./style.css" />
  </head>
  <body>
    <div class="site-wrapper">
      <ul class="actions">
        <li>
          <button data-open=".modal1">Modale classique</button>
        </li>
        <li>
          <button data-open=".modal2">Modale classique sans élément interactif</button>
        </li>
        <li>
          <button data-open=".modal3">Modale sans bouton de fermeture</button>
        </li>
        <li>
          <button tabindex="-2">Bouton avec tabindex négatif différent de -1</button>
        </li>
        <li>
          <button tabindex=" -1">Bouton avec tabindex à -1</button>
        </li>
        <li>
          <button data-open=".modal4" data-role="dialog">Modale avec un role dialog</button>
        </li>
        <li>
          <button data-open=".modal6" data-role="dialog">Modale avec un role dialog, un titre et sans élément interactif</button>
        </li>
        <li>
          <button data-open=".modal7" data-role="dialog" data-label="modalLabel">Modale avec un role dialog, sans titre et un label en paramètre</button>
        </li>
        <li>
          <button data-open=".modal8" data-role="dialog">Modale avec un role dialog, sans titre et sans label en paramètre (erreur attendue)</button>
        </li>
        <li>
          <button disabled>Bouton désactivé</button>
        </li>
      </ul>


      <p contenteditable>Content editable paragraph</p>
      <p>Non editable paragraph <a href="">with link</a></p>

      <figure>
        <img src="http://switch-company.com/medias/img/logo.png" usemap="#primary" />
        <map name="primary" id="primary">
          <area shape="circle" coords="94,66,27" href="another.html" />
        </map>
        <figcaption>Image map with href</figcaption>
      </figure>

      <p>Iframe</p>
      <iframe src="http://switch-company.com"></iframe>

      <form>
        <fieldset>
          <legend>Form with interactive and non interactive elements</legend>
          <label for="text">Text</label>
          <input id="text" type="text">
          <label for="tabindex">negative tabindex</label>
          <input id="tabindex" type="text" tabindex="-1">
          <label for="textarea">Textarea</label>
          <textarea id=textarea></textarea>
          <label for="textarea">Disabled select</label>
          <select id="select" disabled>
            <option>1</option>
          </select>
        </fieldset>
      </form>

      <div class="modal modal1">
        <button class="close">Close</button>
        <h2>Modal 1</h2>
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Non reiciendis sed doloremque est animi! Cumque beatae ut voluptatibus ducimus hic minima accusamus explicabo repellendus officiis rerum ullam, molestias eos enim?</p>
        <button>1</button>
        <button>2</button>
      </div>

      <div class="modal modal2">
        <button class="close">Close</button>
        <h2>Modal 2</h2>
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Non reiciendis sed doloremque est animi! Cumque beatae ut voluptatibus ducimus hic minima accusamus explicabo repellendus officiis rerum ullam, molestias eos enim?</p>
      </div>

      <div class="modal modal3">
        <h2>Modal 3</h2>
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Non reiciendis sed doloremque est animi! Cumque beatae ut voluptatibus ducimus hic minima accusamus explicabo repellendus officiis rerum ullam, molestias eos enim?</p>
        <form>
          <fieldset>
            <legend>Formulaire</legend>
            <label>
              <span>input 1</span>
              <input/>
            </label>
            <label>
              <span>input 2</span>
              <input/>
            </label>
            <label>
              <span>input 3</span>
              <input/>
            </label>
          </fieldset>
        </form>
        <button>1</button>
        <button>2</button>
      </div>
    </div>

    <!-- <dialog class="modal4"> -->
      <div class="modal modal4">
        <button class="close">Close</button>
        <h2 data-label>Modal 4</h2>
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Voluptates alias consequatur iusto odit quod quia, maiores, accusantium pariatur, dolores accusamus rerum ad, dolorum atque earum. Itaque dolorum dolores consequuntur laboriosam.</p>
        <button data-open=".modal5" data-role="dialog">To modal 5</button>
      </div>
    <!-- </dialog> -->

    <!-- <dialog class="modal5"> -->
      <div class="modal modal5">
        <button class="close">Close</button>
        <h2 data-label>Modal 5</h2>
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Non reiciendis sed doloremque est animi! Cumque beatae ut voluptatibus ducimus hic minima accusamus explicabo repellendus officiis rerum ullam, molestias eos enim?</p>
        <form>
          <fieldset>
            <legend>Formulaire</legend>
            <label>
              <span>input 1</span>
              <input name="firstName" />
            </label>
            <label>
              <span>input 2</span>
              <input/>
            </label>
            <label>
              <span>input 3</span>
              <input/>
            </label>
          </fieldset>
        </form>
        <button>1</button>
        <button>2</button>
      </div>
    <!-- </dialog> -->

    <!-- <dialog class="modal6"> -->
      <div class="modal modal6">
        <button class="close">Close</button>
        <h2 data-label>Modal 6</h2>
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Voluptates alias consequatur iusto odit quod quia, maiores, accusantium pariatur, dolores accusamus rerum ad, dolorum atque earum. Itaque dolorum dolores consequuntur laboriosam.</p>
      </div>
    <!-- </dialog> -->

    <div class="modal modal7">
      <button class="close">Close</button>
      <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Voluptates alias consequatur iusto odit quod quia, maiores, accusantium pariatur, dolores accusamus rerum ad, dolorum atque earum. Itaque dolorum dolores consequuntur laboriosam.</p>
    </div>

    <div class="modal modal8">
      <button class="close">Close</button>
      <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Voluptates alias consequatur iusto odit quod quia, maiores, accusantium pariatur, dolores accusamus rerum ad, dolorum atque earum. Itaque dolorum dolores consequuntur laboriosam.</p>
    </div>

    <script src="/modal.js"></script>
    <script>
      function handleEvent( e ){
        var btn = e.target,
            selector = e.target.getAttribute( 'data-open' ),
            modal = document.querySelector( selector );

        if( !btn.modal ){
          btn.modal = window.Modal.show( {
            opener: btn,
            dom: modal,
          //html: string from ajax call
            tagName: 'section',
            className: 'modal-wrapper',
            closeSelector: '.close',
            role: btn.getAttribute( 'data-role' ),
            label: btn.getAttribute( 'data-label' )
          } );
        }
        else{
          window.Modal.show( btn.modal );
        }
      }

      Array.prototype.forEach.call( document.querySelectorAll( '[data-open]' ), function( el ){
        el.addEventListener( 'click', handleEvent );
      } );
    </script>
  </body>
</html>
